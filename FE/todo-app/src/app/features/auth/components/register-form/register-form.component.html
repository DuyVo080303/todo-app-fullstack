<form [formGroup]='registerForm' (ngSubmit)="handleRegister()">

    <label>
        First Name
        <input type="text" formControlName=firstName />
    </label>

    <!-- Control flow incomponent and form validation -->
    @if (firstName?.touched && firstName?.hasError('required')) {
    <small class="error">First name is required</small>
    }

    <label>
        Last Name
        <input type="text" formControlName=lastName />
    </label>

    <!-- Control flow incomponent and form validation -->
    @if (lastName?.touched && lastName?.hasError('required')) {
    <small class="error">Last name is required</small>
    }



    <label>
        Email
        <input type="text" formControlName=email />
    </label>

    <!-- Control flow incomponent and form validation -->
    @if (email?.invalid && email?.touched) {
    <div class="error">
        @if (email?.hasError('required')) {
        <small>Email is required</small>
        } @else if (email?.hasError('email')) {
        <small>Email is invalid</small>
        }
    </div>
    }

    <label>
        Password
        <input type="password" formControlName=password />
    </label>

    @if (password?.invalid && password?.touched) {
    <div class="error">
        @if (password?.hasError('required')) {
        <small>Password is required</small>
        } @else if (
        password?.hasError('minlength') ||
        password?.hasError('uppercase') ||
        password?.hasError('specialCharacter')
        ) {
        <small>Password should have at least 8 characters with one uppercase letter and a special character</small>
        }
    </div>
    }

    <label>
        Confirm Password
        <input type="password" formControlName=confirmPassword />
    </label>

    @if (confirmPassword?.invalid && confirmPassword?.touched) {
    <div class="error">
        @if (confirmPassword?.hasError('required')) {
        <small>Please write your confirm password</small>
        } @else if (
        confirmPassword?.hasError('mismatch')
        ) {
        <small>Your confirmed password is not match your password</small>
        }
    </div>
    }


    <app-form-button label="Register" type="submit"></app-form-button>
</form>